## Overloading and Templates

#overloading #operatoroverloading #this #friendfunctions #pointers #classes #templates #functiontemplates #classtemplates #cpprandom 

### Introduction

__Templates__ enable you to write generic code for related functions and classes.

__Function Templates__ simplify function overloading.

### Why Operator Overloading Is Needed

```cpp
clockType myClock(8, 23, 34);
clockType yourClock(4, 5, 30);

// Which do you prefer?

myClock.printTime();
myClock.incrementSeconds(); 
if (myClock.equalTime(yourClock)) { 
	//... 
} 

// Or

cout << myClock;
++myClock; 
if (myClock == yourClock) { 
	//...
}
```
_Figure 13.1 - Operator Overloading in Action._

Assignment and member selection are the only built-in operations on classes.
- Other operators cannot be applied directly to class objects.

__Operator Overloading__ extends the definition of an operator to work with a user-defined data type.
- C++ allows you to extend the definitions of most of the operators to work with classes.

### Operator Overloading

#operatoroverloading #newoperator

Most C++ ops can be overloaded to manipulate class objects.

__Operator Function__ is a function that overloads an operators.
- Use reserved word `operator` followed by the op as the function name.

### Syntax for Operator Functions
 
 #operatorfunctions #syntax

```cpp
returnType operator operatorSymbol(formal param list)
```
_Figure 13.2 - Operator Function in Action_
- Is a value-returning function.
- `operator` is a reserved word.

To overload an op for a class:
- Include the op function declaration in the class def.
- Write the def of the op function.

### Overloading an Operator: Restrictions

#overloadingrestrictions 

1. __CANNOT__ change the precedence of the op.
2. Associativity __CANNOT__ be changed.
3. Default params __CANNOT__ be used.
4.  __CANNOT__ change num of params.
5. __CANNOT__ create _new_ operators.
6. __CANNOT__ overload:
	- `.` Member Access Operator
	-  `.*` Pointer to Member Access Operator
	- `::` Scope Resolution Operator
	- `?:` Ternary Conditional Operator
	- `sizeof` Sizeof Operator
	- `typeid` Type Identification Operator
7. How the op works with built-in types remains the same
8. __CAN__ overload for user-defined objects or a combo of user-defined and built-in objects.

### Pointer `this`

#this #thispointer

Every object of a class maintains a (hidden) pointer to itself called `this`.
- When a member func is invoked by an obj, the pointer `this` refers to the calling obj.

### Friend Functions of Classes

#friendfunctions

__Friend Function__ is a non-member func of the class that has access to all members of the class.
- Generally used for non-member funcs that need to access `private`/`protected` data.
- Use the reserved word `friend` in the func prototype in the class def.
- Explicitly declared in the class.

```cpp
class classIllusFriend {
	friend void two(/*params*/);
	// ...
}
```
_Figure 13.3 - Friend Functions in Action_

### Definition of a `friend` Function

#friendfunctions 

`friend` does not appear in the heading of the func's def.
- When writing the `friend` fun def:
	- Name of the class and scope resolution op are __NOT__ used.

```cpp
friend void two(/*params*/) {
	// ...
}
```
_Figure 13.4 - Friend Function Definition_

### Operator Functions as Member and Non-Member Functions

#operatorfunctions #non-memberfunctions

To overload `()`, `[]`, `->` or `=` for a class, the func __MUST__ be a member of the class.

Suppose `op` is overloaded for `opOverClass`:
- If the leftmost operand of `op` is not an obj of the class for which the operator is overloaded, the overloading func __MUST__ be a non-member (_friend_) of the class.
- If the overloading func for `op` is an obj of `opOverClass`, then when applying op on objs of type `opOverClass`, the leftmost operand must be of type `opOverClass`.

### Overloading Binary Operators

#overloadingbinaryoperators

If `#` represents a binary op (e.g. `+` or `==`) that is to be overloaded for `rectangleType`
- It can be overloaded as either a member func of the class or as a `friend` func.

### Overloading the Binary Operators as Member Functions

#overloadingbinaryoperators #memberfunctions

```cpp
returnType operator#(const className&) const;
```
_Figure 13.5 - Overloading Binary Operator Function Prototype_

```cpp
returnType className::operator#(const className& otherObj) const {
	// Algorithm to perform the op
	return value;
}
```
_Figure 13.6 - Overloading Binary Operator Function Definition_

